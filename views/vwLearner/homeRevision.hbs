{{#section 'js'}}
<script>
  $(document).ready(function() {
    const memoryLevelCount = {{{ memoryLevelCount }}}
    const MEMORY_LEVEL = 5

    for (let i = 0; i < MEMORY_LEVEL; i++) {
      try {
        const { number, percentage } = memoryLevelCount[i]
        $(`.level-${i+1} .word-count`).height(95 - 0.85 * percentage + "%")
        $(`.level-${i+1} .word-count`).text(number)
      } catch (e) {
        // Index out of range
        $(`.level-${i+1} .word-count`).height("95%")
        $(`.level-${i+1} .word-count`).text('0')
      }
    }
  })
</script>
{{/section}}

{{#section 'css'}}
<link href="https://fonts.googleapis.com/css?family=Sriracha" rel="stylesheet">
<link rel="stylesheet" href="/public/CSS/vwLearner/homeRevision.css">
{{/section}}

<div class="container-fluid">
  <div class="chart pt-3">
    <div class="level-1">
      <div class="word-count"></div>
      <div class="bar"></div>
    </div>
    <div class="level-2">
      <div class="word-count"></div>
      <div class="bar"></div>
    </div>
    <div class="level-3">
      <div class="word-count"></div>
      <div class="bar"></div>
    </div>
    <div class="level-4">
      <div class="word-count"></div>
      <div class="bar"></div>
    </div>
    <div class="level-5">
      <div class="word-count"></div>
      <div class="bar"></div>
    </div>
  </div>
  <div class="chart-foot"></div>
  <div class="level-text">
    <div class="level-1-text">1</div>
    <div class="level-2-text">2</div>
    <div class="level-3-text">3</div>
    <div class="level-4-text">4</div>
    <div class="level-5-text">5</div>
  </div>

  <div class="review mb-5">
    <p>Today review test has 100 words</p>
    <button type="button" id="review-btn" class="btn">REVIEW</button>
  </div>

  <div class="category-progress">
    <div class="category-progress-title mb-4">
      Learning categories
    </div>
    {{#each categoriesProgress}}
    <div class="category-progress-item">
      <div class="category-progress-item-name">{{this.categoryname}}</div>
      <div class="progress-container">
        {{this.percentage}}%
        <div class="progress m-0">
          <div class="progress-bar" style="width:{{this.percentage}}%;" role="progressbar" 
            aria-valuenow="{{this.percentage}}" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
      </div>
    </div>
    {{/each}}
  </div>
</div>